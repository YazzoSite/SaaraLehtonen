# Decap CMS Implementation Plan
## Saara Lehtonen Website - Self-Service Content Management

**Business Model:** Reusable service template for performer/actress clients
**Goal:** Build once, clients manage forever (no ongoing developer updates)
**Technology:** Decap CMS + Netlify (free, self-hosted, Git-based)

---

## Executive Summary

**Client Requirements:**
- âœ… Saara will edit all content herself (non-technical user)
- âœ… All page content should be CMS-editable
- âœ… Image upload capability required
- âœ… Multiple videos with dynamic sections (hide empty sections)
- âœ… **Multi-language support (Finnish/English)**
- âœ… Service model: replicable for future clients

**Recommended Solution:** Decap CMS + Netlify Identity
- Free forever (no recurring costs)
- User-friendly interface for non-developers
- Git-based (content stored in repository)
- Image upload via Decap media library
- **Bilingual content management (Finnish/English)**
- Replicable template for future clients

---

## Multi-Language Architecture

### âœ… Implemented Features

**Language Support:**
- Finnish (fi) - Primary language
- English (en) - Secondary language
- Client-side language switching with localStorage persistence
- Separate CMS content files per language

**Technical Implementation:**

1. **Language Context** (`src/contexts/LanguageContext.tsx`)
   - Global language state management
   - Persists user's language choice in localStorage
   - Provides `language` and `setLanguage` to all components

2. **Translation System** (`src/translations/translations.ts`)
   - Centralized UI translations (buttons, labels, navigation)
   - Typed translation objects for type safety
   - Covers: navigation, common elements, page-specific text

3. **Language Switcher** (`src/components/LanguageSwitcher.tsx`)
   - Toggle button: "FI | EN"
   - Visible on all pages
   - Immediate language switching

4. **Content Loading Hook** (`src/hooks/useContentData.ts`)
   - Automatically loads language-specific content files
   - Uses current language from context
   - Fetches `content/{page}-{language}.json`

**Content File Structure:**
```
content/
â”œâ”€â”€ home-fi.json          # Finnish home page
â”œâ”€â”€ home-en.json          # English home page
â”œâ”€â”€ about-fi.json         # Finnish about page
â”œâ”€â”€ about-en.json         # English about page
â”œâ”€â”€ gallery-fi.json       # Finnish gallery
â”œâ”€â”€ gallery-en.json       # English gallery
â”œâ”€â”€ media-fi.json         # Finnish media page
â”œâ”€â”€ media-en.json         # English media page
â”œâ”€â”€ cv-fi.json            # Finnish CV
â”œâ”€â”€ cv-en.json            # English CV
â”œâ”€â”€ contact-fi.json       # Finnish contact
â””â”€â”€ contact-en.json       # English contact
```

**CMS Configuration:**
- Each page has TWO CMS entries (Finnish + English)
- Saara can edit both languages independently
- Changes to one language don't affect the other
- Toggle feature allows hiding CV download button per language

---

## Content Analysis - What Will Be CMS-Editable?

### ğŸ  HomePage
**Current Content:**
- Name: "SAARA LEHTONEN"
- Subtitle: "NÃ¤yttelijÃ¤ â€¢ Laulaja â€¢ Ã„Ã¤ninÃ¤yttelijÃ¤"
- Bio paragraph 1: "Olen HelsingissÃ¤ asuva nÃ¤yttelijÃ¤..."
- Bio paragraph 2: "TÃ¤hÃ¤n mahtuisi toinen lyhyt virke..."
- Hero background image: `/saara/IMG_8559.jpg`
- Button text: "Katso galleria", "Showreel & Media"

**CMS Fields:**
- âœ… All text content editable
- âœ… Hero background image changeable
- âœ… Button text customizable

---

### ğŸ‘¤ AboutPage
**Current Content:**
- Title: "Saara Lehtonen"
- 4 bio paragraphs with professional history
- Background image: `/saara/IMG_8559.jpg`

**CMS Fields:**
- âœ… All 4 bio paragraphs editable
- âœ… Background image changeable

---

### ğŸ“¸ GalleryPage
**Current Content:**
- Intro text: "Korkearesoluutioiset kuvat mediakÃ¤yttÃ¶Ã¶n. Klikkaa kuvaa."
- Array of 8 images with metadata

**CMS Fields:**
- âœ… Add/remove/reorder photos
- âœ… Upload new images (web + high-res versions)
- âœ… Edit alt text, photographer, category per image
- âœ… Edit intro text

---

### ğŸ¬ MediaPage
**Current Content:**
- YouTube video with caption
- Voice samples link
- TV appearances link

**CMS Fields:**
- âœ… Add multiple videos (YouTube, Vimeo, direct)
- âœ… Add multiple external links
- âœ… Dynamic sections (auto-hide empty sections)
- âœ… Edit all titles and button text

---

### ğŸ“„ CVPage
**Current Content:**
- 4 CV sections (lorem ipsum placeholders)
- CV download file
- Download button text

**CMS Fields:**
- âœ… Edit all CV sections (markdown support)
- âœ… Upload new CV file
- âœ… Edit button text

---

### ğŸ“§ ContactPage
**Current Content:**
- Email address
- Social media links (Facebook, Instagram, YouTube)
- Related links (4 theater affiliations)

**CMS Fields:**
- âœ… Edit email address
- âœ… Edit social media URLs
- âœ… Add/remove/edit related links

---

## Implementation Architecture

### File Structure

```
saara-lehtonen-site/
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ index.html          # Decap CMS admin panel
â”‚   â”‚   â””â”€â”€ config.yml          # CMS configuration
â”‚   â”œâ”€â”€ assets/
â”‚   â”‚   â””â”€â”€ hero-bg.jpg         # Protected hero background
â”‚   â”œâ”€â”€ cv/
â”‚   â”‚   â”œâ”€â”€ cv-fi.txt           # Finnish CV download
â”‚   â”‚   â””â”€â”€ cv-en.txt           # English CV download
â”‚   â””â”€â”€ images/                 # Media uploads folder
â”‚       â”œâ”€â”€ web/                # Optimized images
â”‚       â”œâ”€â”€ downloads/          # High-res originals
â”‚       â””â”€â”€ uploads/            # CMS uploaded images
â”œâ”€â”€ content/                     # CMS content files (JSON) - MULTI-LANGUAGE
â”‚   â”œâ”€â”€ home-fi.json            # Finnish
â”‚   â”œâ”€â”€ home-en.json            # English
â”‚   â”œâ”€â”€ about-fi.json
â”‚   â”œâ”€â”€ about-en.json
â”‚   â”œâ”€â”€ gallery-fi.json
â”‚   â”œâ”€â”€ gallery-en.json
â”‚   â”œâ”€â”€ media-fi.json
â”‚   â”œâ”€â”€ media-en.json
â”‚   â”œâ”€â”€ cv-fi.json
â”‚   â”œâ”€â”€ cv-en.json
â”‚   â”œâ”€â”€ contact-fi.json
â”‚   â””â”€â”€ contact-en.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Navigation.tsx
â”‚   â”‚   â””â”€â”€ LanguageSwitcher.tsx  # NEW: Language toggle
â”‚   â”œâ”€â”€ contexts/
â”‚   â”‚   â””â”€â”€ LanguageContext.tsx   # NEW: Language state
â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”œâ”€â”€ useContentData.ts     # Auto-loads by language
â”‚   â”‚   â””â”€â”€ useTranslations.ts    # NEW: UI translations
â”‚   â”œâ”€â”€ translations/
â”‚   â”‚   â””â”€â”€ translations.ts       # NEW: UI text (FI/EN)
â”‚   â””â”€â”€ pages/                    # All pages use translations
â””â”€â”€ ...
```

### Content Schema Design

#### 1. HomePage (`content/home.json`)
```json
{
  "name": "SAARA LEHTONEN",
  "subtitle": "NÃ¤yttelijÃ¤ â€¢ Laulaja â€¢ Ã„Ã¤ninÃ¤yttelijÃ¤",
  "heroParagraph1": "Olen HelsingissÃ¤ asuva nÃ¤yttelijÃ¤...",
  "heroParagraph2": "TÃ¤hÃ¤n mahtuisi toinen lyhyt virke...",
  "heroImage": "/saara/IMG_8559.jpg",
  "ctaButton1Text": "Katso galleria",
  "ctaButton1Link": "#galleria",
  "ctaButton2Text": "Showreel & Media",
  "ctaButton2Link": "#media"
}
```

#### 2. AboutPage (`content/about.json`)
```json
{
  "title": "Saara Lehtonen",
  "bioParagraphs": [
    "Saara Lehtonen on nÃ¤yttelijÃ¤, laulaja ja Ã¤Ã¤ninÃ¤yttelijÃ¤...",
    "TÃ¤rkeimmiksi rooleikseen Saara mainitsee...",
    "TeatteritÃ¶iden lisÃ¤ksi Saara on dubannut...",
    "Saara kuuluu myÃ¶s lauluryhmÃ¤ Polte Ensembleen..."
  ],
  "backgroundImage": "/saara/IMG_8559.jpg"
}
```

#### 3. GalleryPage (`content/gallery.json`)
```json
{
  "introText": "Korkearesoluutioiset kuvat mediakÃ¤yttÃ¶Ã¶n. Klikkaa kuvaa.",
  "images": [
    {
      "src": "/images/web/IMG_8559.jpg",
      "downloadSrc": "/images/downloads/IMG_8559.jpg",
      "alt": "Saara Lehtonen professional headshot",
      "photographer": "Jonna HÃ¤rkÃ¤nen",
      "category": "Headshots"
    }
  ]
}
```

#### 4. MediaPage (`content/media.json`) - **Dynamic Sections**
```json
{
  "sections": [
    {
      "type": "commercials",
      "title": "Mainokset",
      "videos": [
        {
          "type": "youtube",
          "url": "https://www.youtube.com/embed/EjO6EcuqlAM",
          "title": "Elovena mainos",
          "description": ""
        }
      ]
    },
    {
      "type": "showreel",
      "title": "Showreel",
      "videos": []
    },
    {
      "type": "voice-samples",
      "title": "Ã„Ã¤ninÃ¤ytteet",
      "externalLinks": [
        {
          "url": "https://vild.fi/spiikkerihaku?query=Saara+Lehtonen",
          "buttonText": "Kuuntele Ã¤Ã¤ninÃ¤ytteet Vild.fi"
        }
      ]
    },
    {
      "type": "tv-appearances",
      "title": "TV-esiintymiset",
      "externalLinks": [
        {
          "url": "https://www.ruutu.fi/video/2932661",
          "buttonText": "Voice of Finland 2017"
        }
      ]
    }
  ]
}
```

**Key Feature:** Sections with empty `videos` or `externalLinks` arrays won't render!

#### 5. CVPage (`content/cv.json`)
```json
{
  "sections": [
    {
      "title": "Koulutus",
      "content": "Teatterikorkeakoulu, Helsinki..."
    },
    {
      "title": "TyÃ¶kokemus",
      "content": "2013 - Les MisÃ©rables, Tampereen Teatteri..."
    },
    {
      "title": "Taidot",
      "content": "Laulu, tanssi, dubbing..."
    },
    {
      "title": "Saavutukset",
      "content": "Voice of Finland 2017..."
    }
  ],
  "cvFile": "/cv.txt",
  "downloadButtonText": "â¬‡ Lataa CV"
}
```

#### 6. ContactPage (`content/contact.json`)
```json
{
  "email": "saara@saaralehtonen.com",
  "socialMedia": [
    {
      "platform": "facebook",
      "url": "https://www.facebook.com/lehtonensaara/"
    },
    {
      "platform": "instagram",
      "url": "https://www.instagram.com/lehtonensaara/"
    },
    {
      "platform": "youtube",
      "url": "https://www.youtube.com/channel/UC35YTBmG7axNB5g9hO9bSiw"
    }
  ],
  "relatedLinks": [
    {
      "url": "https://www.wasateater.fi",
      "text": "www.wasateater.fi"
    },
    {
      "url": "https://www.viikinsaarenkesateatteri.fi",
      "text": "www.viikinsaarenkesateatteri.fi"
    },
    {
      "url": "https://www.nayttelijaliitto.fi",
      "text": "www.nayttelijaliitto.fi"
    },
    {
      "url": "https://www.helsinginfreet.com",
      "text": "www.helsinginfreet.com"
    }
  ]
}
```

---

## Decap CMS Configuration

### `public/admin/config.yml`

```yaml
backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  - name: "pages"
    label: "Pages"
    files:
      # HomePage
      - label: "Home Page"
        name: "home"
        file: "content/home.json"
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Subtitle", name: "subtitle", widget: "string"}
          - {label: "Hero Paragraph 1", name: "heroParagraph1", widget: "text"}
          - {label: "Hero Paragraph 2", name: "heroParagraph2", widget: "text"}
          - {label: "Hero Background Image", name: "heroImage", widget: "image"}
          - {label: "Button 1 Text", name: "ctaButton1Text", widget: "string"}
          - {label: "Button 1 Link", name: "ctaButton1Link", widget: "string"}
          - {label: "Button 2 Text", name: "ctaButton2Text", widget: "string"}
          - {label: "Button 2 Link", name: "ctaButton2Link", widget: "string"}

      # AboutPage
      - label: "About Page"
        name: "about"
        file: "content/about.json"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Bio Paragraphs", name: "bioParagraphs", widget: "list", field: {label: "Paragraph", name: "paragraph", widget: "text"}}
          - {label: "Background Image", name: "backgroundImage", widget: "image"}

      # GalleryPage
      - label: "Gallery"
        name: "gallery"
        file: "content/gallery.json"
        fields:
          - {label: "Intro Text", name: "introText", widget: "text"}
          - label: "Images"
            name: "images"
            widget: "list"
            fields:
              - {label: "Image (Web)", name: "src", widget: "image"}
              - {label: "High-Res Image", name: "downloadSrc", widget: "image"}
              - {label: "Alt Text", name: "alt", widget: "string"}
              - {label: "Photographer", name: "photographer", widget: "string"}
              - {label: "Category", name: "category", widget: "select", options: ["Headshots", "Production", "Promotional"]}

      # MediaPage
      - label: "Media Page"
        name: "media"
        file: "content/media.json"
        fields:
          - label: "Sections"
            name: "sections"
            widget: "list"
            fields:
              - {label: "Section Type", name: "type", widget: "string"}
              - {label: "Section Title", name: "title", widget: "string"}
              - label: "Videos"
                name: "videos"
                widget: "list"
                required: false
                fields:
                  - {label: "Video Type", name: "type", widget: "select", options: ["youtube", "vimeo", "direct"]}
                  - {label: "Video URL", name: "url", widget: "string"}
                  - {label: "Title/Caption", name: "title", widget: "string"}
                  - {label: "Description", name: "description", widget: "text", required: false}
              - label: "External Links"
                name: "externalLinks"
                widget: "list"
                required: false
                fields:
                  - {label: "URL", name: "url", widget: "string"}
                  - {label: "Button Text", name: "buttonText", widget: "string"}

      # CVPage
      - label: "CV Page"
        name: "cv"
        file: "content/cv.json"
        fields:
          - label: "CV Sections"
            name: "sections"
            widget: "list"
            fields:
              - {label: "Section Title", name: "title", widget: "string"}
              - {label: "Content", name: "content", widget: "markdown"}
          - {label: "CV File", name: "cvFile", widget: "file"}
          - {label: "Download Button Text", name: "downloadButtonText", widget: "string"}

      # ContactPage
      - label: "Contact Page"
        name: "contact"
        file: "content/contact.json"
        fields:
          - {label: "Email", name: "email", widget: "string"}
          - label: "Social Media"
            name: "socialMedia"
            widget: "list"
            fields:
              - {label: "Platform", name: "platform", widget: "select", options: ["facebook", "instagram", "youtube", "twitter", "linkedin"]}
              - {label: "URL", name: "url", widget: "string"}
          - label: "Related Links"
            name: "relatedLinks"
            widget: "list"
            fields:
              - {label: "URL", name: "url", widget: "string"}
              - {label: "Display Text", name: "text", widget: "string"}
```

---

## Implementation Steps

### Phase 1: Setup Decap CMS (1-2 hours)

1. **Install Decap CMS package**
   ```bash
   npm install decap-cms-app
   ```

2. **Create admin panel files**
   - Create `/public/admin/index.html`
   - Create `/public/admin/config.yml` (use config above)

3. **Create content folder**
   - Create `/content/` directory
   - Add JSON files with current hardcoded content

4. **Test locally**
   - Run `npm run dev`
   - Visit `http://localhost:5173/admin`
   - Test CMS interface (local mode, no auth needed)

### Phase 2: Refactor Components (3-4 hours)

1. **Create content loading hook** (`src/hooks/useContentData.ts`)
   ```typescript
   import { useState, useEffect } from 'react';

   export function useContentData<T>(contentFile: string): T | null {
     const [data, setData] = useState<T | null>(null);

     useEffect(() => {
       fetch(`/content/${contentFile}`)
         .then(res => res.json())
         .then(setData)
         .catch(console.error);
     }, [contentFile]);

     return data;
   }
   ```

2. **Refactor each page to use JSON data**
   - HomePage: Read from `home.json`
   - AboutPage: Read from `about.json`
   - GalleryPage: Read from `gallery.json`
   - MediaPage: Read from `media.json` + **implement conditional rendering**
   - CVPage: Read from `cv.json`
   - ContactPage: Read from `contact.json`

3. **Implement dynamic sections for MediaPage**
   ```typescript
   {data.sections.map((section) => {
     // Skip sections with no content
     if (section.videos && section.videos.length === 0 &&
         section.externalLinks && section.externalLinks.length === 0) {
       return null;
     }

     return (
       <div key={section.type}>
         <h2>{section.title}</h2>
         {/* Render videos or links */}
       </div>
     );
   })}
   ```

### Phase 3: Deploy to Netlify (1 hour)

1. **Push to GitHub**
   ```bash
   git add .
   git commit -m "Add Decap CMS integration"
   git push origin main
   ```

2. **Deploy to Netlify**
   - Connect GitHub repository
   - Set build command: `npm run build`
   - Set publish directory: `dist`
   - Deploy

3. **Enable Netlify Identity**
   - Go to Site Settings â†’ Identity
   - Enable Identity
   - Enable Git Gateway
   - Invite Saara as user (she'll receive email)

4. **Test CMS on production**
   - Visit `https://saaralehtonen.netlify.app/admin`
   - Saara logs in with Netlify Identity
   - Make test edit, verify it creates Git commit

### Phase 4: Training (30 mins)

1. **Create simple guide for Saara:**
   - How to log in (`/admin`)
   - How to edit text
   - How to upload images
   - How to add/remove gallery photos
   - How to add new video sections
   - **How to edit Finnish vs English content** (each page has 2 entries)
   - How to toggle CV download button on/off
   - How changes are saved (creates commits)
   - How to publish changes (auto-deployed)

2. **Walk through with Saara**
   - Show live editing
   - Demonstrate image upload
   - **Show language switching on live site**
   - **Show how to edit both Finnish and English versions**
   - Explain publish flow

---

## Benefits of This Approach

### For You (Service Provider)
- âœ… **Replicable template** - Clone for next actress/performer client
- âœ… **No ongoing maintenance** - Clients update themselves
- âœ… **Learning Decap CMS** - Skill useful for future projects
- âœ… **Free infrastructure** - No CMS hosting costs to pass on

### For Saara (Client)
- âœ… **Full control** - Update any content anytime
- âœ… **User-friendly** - No code knowledge needed
- âœ… **Image management** - Upload headshots directly
- âœ… **Bilingual site** - Reach both Finnish and international audiences
- âœ… **Easy language management** - Edit Finnish and English separately
- âœ… **Immediate updates** - Changes go live in minutes
- âœ… **No recurring costs** - Free forever

### Technical Benefits
- âœ… **Git-based** - Full version history, can rollback changes
- âœ… **Static site** - Fast, secure, cheap to host
- âœ… **No database** - Content stored as JSON in repository
- âœ… **Multi-language architecture** - Clean separation of FI/EN content
- âœ… **Client-side language switching** - Instant language changes, no page reload
- âœ… **Automatic deploys** - Netlify rebuilds on every edit

---

## Future Enhancements (Optional)

1. **Netlify Large Media**
   - Automatic image optimization
   - Git LFS for large files
   - Multiple image sizes generated automatically

2. **Scheduled Publishing**
   - Editorial workflow (draft â†’ review â†’ publish)
   - Scheduled content releases

3. âœ… **Localization** - IMPLEMENTED
   - âœ… Finnish and English versions of site
   - âœ… CMS manages both Finnish and English content
   - âœ… Language switcher component
   - âœ… Separate content files per language

4. **Additional Languages** (Future)
   - Easy to add Swedish, Norwegian, etc.
   - Same pattern: create new content files + add to translations

4. **Analytics Dashboard**
   - Embed Google Analytics
   - Show basic stats in CMS

---

## Timeline Estimate

- **Setup CMS**: 1-2 hours
- **Refactor components**: 3-4 hours
- **Deploy & configure**: 1 hour
- **Training**: 30 minutes

**Total**: ~1 working day (6-8 hours)

---

## Next Steps

1. âœ… Review this plan
2. Create content JSON files with current hardcoded data
3. Install Decap CMS and create admin panel
4. Refactor pages to read from JSON
5. Deploy to Netlify
6. Enable Netlify Identity
7. Train Saara on CMS usage
8. Document for future client projects
