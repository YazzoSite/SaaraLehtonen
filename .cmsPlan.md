# Decap CMS Implementation Plan
## Saara Lehtonen Website - Self-Service Content Management

**Business Model:** Reusable service template for performer/actress clients
**Goal:** Build once, clients manage forever (no ongoing developer updates)
**Technology:** Decap CMS + Netlify (free, self-hosted, Git-based)

---

## Executive Summary

**Client Requirements:**
- ‚úÖ Saara will edit all content herself (non-technical user)
- ‚úÖ All page content should be CMS-editable
- ‚úÖ Image upload capability required
- ‚úÖ Multiple videos with dynamic sections (hide empty sections)
- ‚úÖ Service model: replicable for future clients

**Recommended Solution:** Decap CMS + Netlify Identity
- Free forever (no recurring costs)
- User-friendly interface for non-developers
- Git-based (content stored in repository)
- Image upload via Decap media library
- Replicable template for future clients

---

## Content Analysis - What Will Be CMS-Editable?

### üè† HomePage
**Current Content:**
- Name: "SAARA LEHTONEN"
- Subtitle: "N√§yttelij√§ ‚Ä¢ Laulaja ‚Ä¢ √Ñ√§nin√§yttelij√§"
- Bio paragraph 1: "Olen Helsingiss√§ asuva n√§yttelij√§..."
- Bio paragraph 2: "T√§h√§n mahtuisi toinen lyhyt virke..."
- Hero background image: `/saara/IMG_8559.jpg`
- Button text: "Katso galleria", "Showreel & Media"

**CMS Fields:**
- ‚úÖ All text content editable
- ‚úÖ Hero background image changeable
- ‚úÖ Button text customizable

---

### üë§ AboutPage
**Current Content:**
- Title: "Saara Lehtonen"
- 4 bio paragraphs with professional history
- Background image: `/saara/IMG_8559.jpg`

**CMS Fields:**
- ‚úÖ All 4 bio paragraphs editable
- ‚úÖ Background image changeable

---

### üì∏ GalleryPage
**Current Content:**
- Intro text: "Korkearesoluutioiset kuvat mediak√§ytt√∂√∂n. Klikkaa kuvaa."
- Array of 8 images with metadata

**CMS Fields:**
- ‚úÖ Add/remove/reorder photos
- ‚úÖ Upload new images (web + high-res versions)
- ‚úÖ Edit alt text, photographer, category per image
- ‚úÖ Edit intro text

---

### üé¨ MediaPage
**Current Content:**
- YouTube video with caption
- Voice samples link
- TV appearances link

**CMS Fields:**
- ‚úÖ Add multiple videos (YouTube, Vimeo, direct)
- ‚úÖ Add multiple external links
- ‚úÖ Dynamic sections (auto-hide empty sections)
- ‚úÖ Edit all titles and button text

---

### üìÑ CVPage
**Current Content:**
- 4 CV sections (lorem ipsum placeholders)
- CV download file
- Download button text

**CMS Fields:**
- ‚úÖ Edit all CV sections (markdown support)
- ‚úÖ Upload new CV file
- ‚úÖ Edit button text

---

### üìß ContactPage
**Current Content:**
- Email address
- Social media links (Facebook, Instagram, YouTube)
- Related links (4 theater affiliations)

**CMS Fields:**
- ‚úÖ Edit email address
- ‚úÖ Edit social media URLs
- ‚úÖ Add/remove/edit related links

---

## Implementation Architecture

### File Structure

```
saara-lehtonen-site/
‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îú‚îÄ‚îÄ admin/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.html          # Decap CMS admin panel
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.yml          # CMS configuration
‚îÇ   ‚îú‚îÄ‚îÄ images/                 # Media uploads folder
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ web/                # Optimized images
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ downloads/          # High-res originals
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ content/                     # CMS content files (JSON)
‚îÇ   ‚îú‚îÄ‚îÄ home.json
‚îÇ   ‚îú‚îÄ‚îÄ about.json
‚îÇ   ‚îú‚îÄ‚îÄ gallery.json
‚îÇ   ‚îú‚îÄ‚îÄ media.json
‚îÇ   ‚îú‚îÄ‚îÄ cv.json
‚îÇ   ‚îî‚îÄ‚îÄ contact.json
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ hooks/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ useContentData.ts   # Hook to fetch CMS content
‚îÇ   ‚îî‚îÄ‚îÄ pages/                  # Pages refactored to read from JSON
‚îî‚îÄ‚îÄ ...
```

### Content Schema Design

#### 1. HomePage (`content/home.json`)
```json
{
  "name": "SAARA LEHTONEN",
  "subtitle": "N√§yttelij√§ ‚Ä¢ Laulaja ‚Ä¢ √Ñ√§nin√§yttelij√§",
  "heroParagraph1": "Olen Helsingiss√§ asuva n√§yttelij√§...",
  "heroParagraph2": "T√§h√§n mahtuisi toinen lyhyt virke...",
  "heroImage": "/saara/IMG_8559.jpg",
  "ctaButton1Text": "Katso galleria",
  "ctaButton1Link": "#galleria",
  "ctaButton2Text": "Showreel & Media",
  "ctaButton2Link": "#media"
}
```

#### 2. AboutPage (`content/about.json`)
```json
{
  "title": "Saara Lehtonen",
  "bioParagraphs": [
    "Saara Lehtonen on n√§yttelij√§, laulaja ja √§√§nin√§yttelij√§...",
    "T√§rkeimmiksi rooleikseen Saara mainitsee...",
    "Teatterit√∂iden lis√§ksi Saara on dubannut...",
    "Saara kuuluu my√∂s lauluryhm√§ Polte Ensembleen..."
  ],
  "backgroundImage": "/saara/IMG_8559.jpg"
}
```

#### 3. GalleryPage (`content/gallery.json`)
```json
{
  "introText": "Korkearesoluutioiset kuvat mediak√§ytt√∂√∂n. Klikkaa kuvaa.",
  "images": [
    {
      "src": "/images/web/IMG_8559.jpg",
      "downloadSrc": "/images/downloads/IMG_8559.jpg",
      "alt": "Saara Lehtonen professional headshot",
      "photographer": "Jonna H√§rk√§nen",
      "category": "Headshots"
    }
  ]
}
```

#### 4. MediaPage (`content/media.json`) - **Dynamic Sections**
```json
{
  "sections": [
    {
      "type": "commercials",
      "title": "Mainokset",
      "videos": [
        {
          "type": "youtube",
          "url": "https://www.youtube.com/embed/EjO6EcuqlAM",
          "title": "Elovena mainos",
          "description": ""
        }
      ]
    },
    {
      "type": "showreel",
      "title": "Showreel",
      "videos": []
    },
    {
      "type": "voice-samples",
      "title": "√Ñ√§nin√§ytteet",
      "externalLinks": [
        {
          "url": "https://vild.fi/spiikkerihaku?query=Saara+Lehtonen",
          "buttonText": "Kuuntele √§√§nin√§ytteet Vild.fi"
        }
      ]
    },
    {
      "type": "tv-appearances",
      "title": "TV-esiintymiset",
      "externalLinks": [
        {
          "url": "https://www.ruutu.fi/video/2932661",
          "buttonText": "Voice of Finland 2017"
        }
      ]
    }
  ]
}
```

**Key Feature:** Sections with empty `videos` or `externalLinks` arrays won't render!

#### 5. CVPage (`content/cv.json`)
```json
{
  "sections": [
    {
      "title": "Koulutus",
      "content": "Teatterikorkeakoulu, Helsinki..."
    },
    {
      "title": "Ty√∂kokemus",
      "content": "2013 - Les Mis√©rables, Tampereen Teatteri..."
    },
    {
      "title": "Taidot",
      "content": "Laulu, tanssi, dubbing..."
    },
    {
      "title": "Saavutukset",
      "content": "Voice of Finland 2017..."
    }
  ],
  "cvFile": "/cv.txt",
  "downloadButtonText": "‚¨á Lataa CV"
}
```

#### 6. ContactPage (`content/contact.json`)
```json
{
  "email": "saara@saaralehtonen.com",
  "socialMedia": [
    {
      "platform": "facebook",
      "url": "https://www.facebook.com/lehtonensaara/"
    },
    {
      "platform": "instagram",
      "url": "https://www.instagram.com/lehtonensaara/"
    },
    {
      "platform": "youtube",
      "url": "https://www.youtube.com/channel/UC35YTBmG7axNB5g9hO9bSiw"
    }
  ],
  "relatedLinks": [
    {
      "url": "https://www.wasateater.fi",
      "text": "www.wasateater.fi"
    },
    {
      "url": "https://www.viikinsaarenkesateatteri.fi",
      "text": "www.viikinsaarenkesateatteri.fi"
    },
    {
      "url": "https://www.nayttelijaliitto.fi",
      "text": "www.nayttelijaliitto.fi"
    },
    {
      "url": "https://www.helsinginfreet.com",
      "text": "www.helsinginfreet.com"
    }
  ]
}
```

---

## Decap CMS Configuration

### `public/admin/config.yml`

```yaml
backend:
  name: git-gateway
  branch: main

media_folder: "public/images/uploads"
public_folder: "/images/uploads"

collections:
  - name: "pages"
    label: "Pages"
    files:
      # HomePage
      - label: "Home Page"
        name: "home"
        file: "content/home.json"
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Subtitle", name: "subtitle", widget: "string"}
          - {label: "Hero Paragraph 1", name: "heroParagraph1", widget: "text"}
          - {label: "Hero Paragraph 2", name: "heroParagraph2", widget: "text"}
          - {label: "Hero Background Image", name: "heroImage", widget: "image"}
          - {label: "Button 1 Text", name: "ctaButton1Text", widget: "string"}
          - {label: "Button 1 Link", name: "ctaButton1Link", widget: "string"}
          - {label: "Button 2 Text", name: "ctaButton2Text", widget: "string"}
          - {label: "Button 2 Link", name: "ctaButton2Link", widget: "string"}

      # AboutPage
      - label: "About Page"
        name: "about"
        file: "content/about.json"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Bio Paragraphs", name: "bioParagraphs", widget: "list", field: {label: "Paragraph", name: "paragraph", widget: "text"}}
          - {label: "Background Image", name: "backgroundImage", widget: "image"}

      # GalleryPage
      - label: "Gallery"
        name: "gallery"
        file: "content/gallery.json"
        fields:
          - {label: "Intro Text", name: "introText", widget: "text"}
          - label: "Images"
            name: "images"
            widget: "list"
            fields:
              - {label: "Image (Web)", name: "src", widget: "image"}
              - {label: "High-Res Image", name: "downloadSrc", widget: "image"}
              - {label: "Alt Text", name: "alt", widget: "string"}
              - {label: "Photographer", name: "photographer", widget: "string"}
              - {label: "Category", name: "category", widget: "select", options: ["Headshots", "Production", "Promotional"]}

      # MediaPage
      - label: "Media Page"
        name: "media"
        file: "content/media.json"
        fields:
          - label: "Sections"
            name: "sections"
            widget: "list"
            fields:
              - {label: "Section Type", name: "type", widget: "string"}
              - {label: "Section Title", name: "title", widget: "string"}
              - label: "Videos"
                name: "videos"
                widget: "list"
                required: false
                fields:
                  - {label: "Video Type", name: "type", widget: "select", options: ["youtube", "vimeo", "direct"]}
                  - {label: "Video URL", name: "url", widget: "string"}
                  - {label: "Title/Caption", name: "title", widget: "string"}
                  - {label: "Description", name: "description", widget: "text", required: false}
              - label: "External Links"
                name: "externalLinks"
                widget: "list"
                required: false
                fields:
                  - {label: "URL", name: "url", widget: "string"}
                  - {label: "Button Text", name: "buttonText", widget: "string"}

      # CVPage
      - label: "CV Page"
        name: "cv"
        file: "content/cv.json"
        fields:
          - label: "CV Sections"
            name: "sections"
            widget: "list"
            fields:
              - {label: "Section Title", name: "title", widget: "string"}
              - {label: "Content", name: "content", widget: "markdown"}
          - {label: "CV File", name: "cvFile", widget: "file"}
          - {label: "Download Button Text", name: "downloadButtonText", widget: "string"}

      # ContactPage
      - label: "Contact Page"
        name: "contact"
        file: "content/contact.json"
        fields:
          - {label: "Email", name: "email", widget: "string"}
          - label: "Social Media"
            name: "socialMedia"
            widget: "list"
            fields:
              - {label: "Platform", name: "platform", widget: "select", options: ["facebook", "instagram", "youtube", "twitter", "linkedin"]}
              - {label: "URL", name: "url", widget: "string"}
          - label: "Related Links"
            name: "relatedLinks"
            widget: "list"
            fields:
              - {label: "URL", name: "url", widget: "string"}
              - {label: "Display Text", name: "text", widget: "string"}
```

---

## Implementation Steps

### Phase 1: Setup Decap CMS (1-2 hours)

1. **Install Decap CMS package**
   ```bash
   npm install decap-cms-app
   ```

2. **Create admin panel files**
   - Create `/public/admin/index.html`
   - Create `/public/admin/config.yml` (use config above)

3. **Create content folder**
   - Create `/content/` directory
   - Add JSON files with current hardcoded content

4. **Test locally**
   - Run `npm run dev`
   - Visit `http://localhost:5173/admin`
   - Test CMS interface (local mode, no auth needed)

### Phase 2: Refactor Components (3-4 hours)

1. **Create content loading hook** (`src/hooks/useContentData.ts`)
   ```typescript
   import { useState, useEffect } from 'react';

   export function useContentData<T>(contentFile: string): T | null {
     const [data, setData] = useState<T | null>(null);

     useEffect(() => {
       fetch(`/content/${contentFile}`)
         .then(res => res.json())
         .then(setData)
         .catch(console.error);
     }, [contentFile]);

     return data;
   }
   ```

2. **Refactor each page to use JSON data**
   - HomePage: Read from `home.json`
   - AboutPage: Read from `about.json`
   - GalleryPage: Read from `gallery.json`
   - MediaPage: Read from `media.json` + **implement conditional rendering**
   - CVPage: Read from `cv.json`
   - ContactPage: Read from `contact.json`

3. **Implement dynamic sections for MediaPage**
   ```typescript
   {data.sections.map((section) => {
     // Skip sections with no content
     if (section.videos && section.videos.length === 0 &&
         section.externalLinks && section.externalLinks.length === 0) {
       return null;
     }

     return (
       <div key={section.type}>
         <h2>{section.title}</h2>
         {/* Render videos or links */}
       </div>
     );
   })}
   ```

### Phase 3: Deploy to Netlify (1 hour)

1. **Push to GitHub**
   ```bash
   git add .
   git commit -m "Add Decap CMS integration"
   git push origin main
   ```

2. **Deploy to Netlify**
   - Connect GitHub repository
   - Set build command: `npm run build`
   - Set publish directory: `dist`
   - Deploy

3. **Enable Netlify Identity**
   - Go to Site Settings ‚Üí Identity
   - Enable Identity
   - Enable Git Gateway
   - Invite Saara as user (she'll receive email)

4. **Test CMS on production**
   - Visit `https://saaralehtonen.netlify.app/admin`
   - Saara logs in with Netlify Identity
   - Make test edit, verify it creates Git commit

### Phase 4: Training (30 mins)

1. **Create simple guide for Saara:**
   - How to log in (`/admin`)
   - How to edit text
   - How to upload images
   - How to add/remove gallery photos
   - How to add new video sections
   - How changes are saved (creates commits)
   - How to publish changes (auto-deployed)

2. **Walk through with Saara**
   - Show live editing
   - Demonstrate image upload
   - Explain publish flow

---

## Benefits of This Approach

### For You (Service Provider)
- ‚úÖ **Replicable template** - Clone for next actress/performer client
- ‚úÖ **No ongoing maintenance** - Clients update themselves
- ‚úÖ **Learning Decap CMS** - Skill useful for future projects
- ‚úÖ **Free infrastructure** - No CMS hosting costs to pass on

### For Saara (Client)
- ‚úÖ **Full control** - Update any content anytime
- ‚úÖ **User-friendly** - No code knowledge needed
- ‚úÖ **Image management** - Upload headshots directly
- ‚úÖ **Immediate updates** - Changes go live in minutes
- ‚úÖ **No recurring costs** - Free forever

### Technical Benefits
- ‚úÖ **Git-based** - Full version history, can rollback changes
- ‚úÖ **Static site** - Fast, secure, cheap to host
- ‚úÖ **No database** - Content stored as JSON in repository
- ‚úÖ **Automatic deploys** - Netlify rebuilds on every edit

---

## Future Enhancements (Optional)

1. **Netlify Large Media**
   - Automatic image optimization
   - Git LFS for large files
   - Multiple image sizes generated automatically

2. **Scheduled Publishing**
   - Editorial workflow (draft ‚Üí review ‚Üí publish)
   - Scheduled content releases

3. **Localization**
   - Add English version of site
   - CMS manages both Finnish and English content

4. **Analytics Dashboard**
   - Embed Google Analytics
   - Show basic stats in CMS

---

## Timeline Estimate

- **Setup CMS**: 1-2 hours
- **Refactor components**: 3-4 hours
- **Deploy & configure**: 1 hour
- **Training**: 30 minutes

**Total**: ~1 working day (6-8 hours)

---

## Next Steps

1. ‚úÖ Review this plan
2. Create content JSON files with current hardcoded data
3. Install Decap CMS and create admin panel
4. Refactor pages to read from JSON
5. Deploy to Netlify
6. Enable Netlify Identity
7. Train Saara on CMS usage
8. Document for future client projects
